import matplotlib.pyplot as plt
import seaborn as sns
import pandas as pd

# === Power Factor Data ===
fabric_pf = [0.67, 0.68, 0.68, 0.67, 0.72, 0.68, 0.68, 0.68, 0.70, 0.69, 0.68, 0.69, 0.68, 0.68, 0.69, 0.68, 0.68, 0.69, 0.69, 0.68,
    0.69, 0.68, 0.69, 0.69, 0.68, 0.68, 0.68, 0.68, 0.68, 0.68, 0.67, 0.68, 0.67, 0.67, 0.67, 0.66, 0.68, 0.67, 0.68, 0.67,
    0.67, 0.68, 0.67, 0.68, 0.67, 0.68, 0.67, 0.68, 0.68, 0.68, 0.68, 0.68, 0.69, 0.68, 0.67, 0.68, 0.68, 0.67, 0.67, 0.67,
    0.68, 0.68, 0.68, 0.68, 0.68, 0.68, 0.68, 0.68, 0.68, 0.69, 0.68, 0.67, 0.68, 0.68, 0.68, 0.67, 0.68, 0.68, 0.67, 0.67,
    0.67, 0.68, 0.67, 0.67, 0.68, 0.68, 0.68, 0.68, 0.67, 0.67, 0.68, 0.68, 0.68, 0.67, 0.67, 0.68, 0.68, 0.68, 0.67, 0.68,
    0.68, 0.68, 0.68, 0.68, 0.67, 0.67, 0.68, 0.68, 0.67, 0.67, 0.68, 0.68, 0.69, 0.69, 0.68, 0.68, 0.68, 0.68, 0.68, 0.68,
    0.68, 0.69, 0.69, 0.68, 0.68, 0.68, 0.69, 0.68, 0.68, 0.69, 0.69, 0.68, 0.68, 0.69, 0.69, 0.68, 0.69, 0.68, 0.69, 0.68,
    0.68, 0.68, 0.68, 0.68, 0.69, 0.69, 0.70, 0.70, 0.70, 0.68, 0.91, 0.69, 0.70, 0.70, 0.72, 0.65, 0.65, 0.68, 0.74, 0.68,
    0.68, 0.68, 0.68, 0.68, 0.68, 0.70, 0.67, 0.68, 0.69, 0.69, 0.69, 0.69, 0.70, 0.70, 0.71, 0.71, 0.70, 0.70, 0.71, 0.70,
    0.70, 0.70, 0.71, 0.70, 0.70, 0.77, 0.70, 0.70, 0.70, 0.68, 0.69, 0.70, 0.69, 0.70, 0.70, 0.71, 0.70, 0.69, 0.70, 0.69]

besu_pf = [0.64, 0.64, 0.73, 0.68, 0.68, 0.69, 0.69, 0.66, 0.67, 0.66, 0.74, 0.67, 0.65, 0.70, 0.73, 0.68, 0.69, 0.75, 0.67, 0.78,
    0.67, 0.68, 0.74, 0.67, 0.79, 0.71, 0.68, 0.67, 0.68, 0.72, 0.71, 0.74, 0.71, 0.67, 0.78, 0.67, 0.67, 0.68, 0.67, 0.67,
    0.75, 0.67, 0.72, 0.70, 0.68, 0.70, 0.77, 0.67, 0.69, 0.60, 0.67, 0.75, 0.68, 0.68, 0.67, 0.72, 0.71, 0.67, 0.68, 0.67,
    0.57, 0.61, 0.72, 0.57, 0.67, 0.66, 0.67, 0.66, 0.65, 0.75, 0.64, 0.68, 0.69, 0.66, 0.74, 0.67, 0.66, 0.62, 0.65, 0.75,
    0.69, 0.67, 0.68, 0.68, 0.71, 0.67, 0.66, 0.72, 0.67, 0.68, 0.71, 0.66, 0.67, 0.74, 0.68, 0.69, 0.72, 0.67, 0.68, 0.68,
    0.68, 0.68, 0.69, 0.69, 0.72, 0.67, 0.67, 0.67, 0.68, 0.68, 0.71, 0.70, 0.70, 0.70, 0.72, 0.73, 0.69, 0.70, 0.70, 0.70,
    0.68, 0.75, 0.71, 0.70, 0.76, 0.70, 0.73, 0.71, 0.71, 0.69, 0.71, 0.72, 0.72, 0.68, 0.69, 0.69, 0.68, 0.68, 0.67, 0.68,
    0.68, 0.68, 0.68, 0.68, 0.69, 0.67, 0.72, 0.67, 0.67, 0.67, 0.70, 0.83, 0.71, 0.68, 0.70, 0.69]

# === Create dataframe ===
df = pd.DataFrame({
    'Power Factor': fabric_pf + besu_pf,
    'Blockchain': ['Hyperledger Fabric'] * len(fabric_pf) + ['Hyperledger Besu'] * len(besu_pf)
})

# === Plot ===
plt.figure(figsize=(10, 6), dpi=300)
sns.violinplot(
    x='Blockchain', y='Power Factor', data=df,
    palette=['blue', 'red'],
    linewidth=1.5,  # Bold outline
    inner='box',    # Box inside the violin
    scale='width',  # Normalize by group
)

# Styling
plt.ylabel('Power Factor', fontsize=14, weight='bold')
plt.xlabel('Blockchain', fontsize=14, weight='bold')
plt.xticks(fontsize=12)
plt.yticks(fontsize=12)
plt.ylim(0.4, 1.0)
plt.grid(axis='y', linestyle='--', alpha=0.4)
plt.tight_layout()

# Save and show
plt.savefig('power_factor_violin_plot_bold.png', dpi=300)
plt.show()
